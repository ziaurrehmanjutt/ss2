<?php /** * Copyright Â© Magefan (support@magefan.com). All rights reserved. * See LICENSE.txt for license details (http://opensource.org/licenses/osl-3.0.php). * * Glory to Ukraine! Glory to the heroes! */ ?> <?php /** * Blog recent posts widget * * @var $block \Magefan\Blog\Block\Widget\Recent */ ?> <?php $_postCollection = $block->getPostCollection(); $_config = $this->helper('Sm\Themecore\Helper\Data'); $enableLadyLoading = $_config->getAdvanced('lazyload_group/enable_ladyloading'); $mediaSrc = $_config->getMediaUrl(); if ($enableLadyLoading) { $imgClass = 'lazyload'; } else { $imgClass = ''; } ?> <div class="block clearfix block-gird-post"><div class="block-title"><strong><?php echo $block->escapeHtml($block->getTitle()) ?></strong> <p class="pretext"><?php echo __('Look at the sunset, life is amazing, life is beautiful, life is what you make it.'); ?></p></div><div class="block-content"><?php if ($_postCollection->count()) { ?> <?php $i = 0; foreach ($_postCollection as $_post) { $i++;?> <?php $_postUrl = $_post->getPostUrl(); $_postName = $block->escapeHtml($_post->getTitle(), null, true); ?> <div class="item"><?php if($i==1){ ?> <div class="image-post"><?php if ($featuredImage = $_post->getFeaturedImage()) { ?> <a href="<?php echo $_postUrl ?>" title="<?php echo $_postName ?>"><img src="<?php echo $featuredImage ?>" alt="<?php echo $_postName ?>"/></a> <?php } else { ?> <a href="<?php echo $_postUrl ?>" title="<?php echo $_postName ?>"><img src="<?php /* @escapeNotVerified */ echo $block->getViewFileUrl('images/post/no_image.jpg') ?>" alt="<?php echo $_postName ?>"/></a> <?php } ?></div><?php } ?> <div class="info-post"><div class="post-date"><span class="label"><?php echo __('Posted:') ?></span> <span class="value"><?php echo $_post->getPublishDate('F d, Y') ?></span></div><div class="post-title"><a class="post-item-link" href="<?php echo $_postUrl ?>"><?php echo $_postName; ?></a></div><?php if($i!=1){ ?> <div class="post-short-description "><?php echo substr($block->getShorContent($_post),0,50).'...'; ?></div><?php } ?> <div class="post-read-more"><a class="text-theme-color" href="<?php echo $_postUrl ?>" title="<?php echo $_postName ?>"><?php echo __('Read more') ?><span class="icon-long-arrow-right"></span></a></div></div></div><?php } ?> <?php } else { ?> <div class="message info empty"><div><?php /* @escapeNotVerified */ echo __('We can\'t find post matching the selection.') ?></div></div><?php } ?></div></div>